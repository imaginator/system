uid: multiroom_audio_control
tags: []
props:
  parameters:
    - context: item
      label: Player Control Item
      name: playerControlItem
      required: true
      type: TEXT
    - context: item
      label: Artist Name Item
      name: artistItem
      required: true
      type: TEXT
    - context: item
      label: Track Name Item
      name: trackItem
      required: true
      type: TEXT
    - context: item
      label: Album Art Item
      name: albumArtItem
      required: false
      type: TEXT
    - context: item
      label: Track Progress Time Item
      name: trackProgressItem
      required: false
      type: TEXT
    - context: item
      label: Track Total Time Item
      name: trackTimeItem
      required: false
      type: TEXT
    - context: item
      label: Power Item
      name: powerItem
      required: false
      type: TEXT
    - context: item
      label: Multiroom Control Item
      name: multiroomControlItem
      required: false
      type: TEXT
    - context: item
      label: Volume Control Item
      name: volumeControlItem
      required: false
      type: TEXT
    - label: Force Dark Theme
      name: darkTheme
      required: false
      type: BOOLEAN
  parameterGroups: []
timestamp: Dec 15, 2020, 2:58:37 PM
component: f7-card
config:
  themeDark: =props.darkTheme
  style:
    height: 160px
slots:
  default:
    - component: f7-card-content
      slots:
        default:
          - component: oh-image
            config:
              item: =props.albumArtItem
              action: photos
              actionPhotos: =[props.albumArtItem]
              actionPhotoBrowserConfig:
                theme: dark
              style:
                display: "=props.albumArtItem ? 'block' : 'none'"
                height: 80px
                width: 80px
                float: left
          - component: f7-block
            config:
              style:
                display: flex
                flex-direction: column
            slots:
              default:
                - component: Label
                  config:
                    text: =items[props.artistItem].state
                    class:
                      - margin-top
                    style:
                      overflow: hidden
                      white-space: nowrap
                      text-overflow: ellipsis
                - component: Label
                  config:
                    text: =items[props.trackItem].state
                    style:
                      font-size: 20px
                      overflow: hidden
                      white-space: nowrap
                      text-overflow: ellipsis
                - component: Label
                  config:
                    text: "=(props.trackProgressItem && props.trackTimeItem) ? items[props.trackProgressItem].state + ' / ' + items[props.trackTimeItem].state : ''"
                    style:
                      font-size: 12px
                      height: 20px
                      margin-top: 2px
                      color: gray
                - component: oh-player-controls
                  config:
                    item: =props.playerControlItem
                    color: green
                    visible: =!vars.showVolume
                    style:
                      margin: 1rem
                - component: oh-slider
                  config:
                    item: =props.volumeControlItem
                    color: blue
                    visible: =vars.showVolume === true
                    style:
                      margin-top: 2rem
          - component: f7-block
            config:
              style:
                position: absolute
                top: 137px
                width: 112px
                text-align: right
                display: flex
                flex-direction: row-reverse
                justify-content: center
            slots:
              default:
                - component: oh-link
                  config:
                    style:
                      margin: 0 0.5em
                    visible: =props.volumeControlItem !== undefined
                    iconF7: speaker_3_fill
                    iconSize: 18
                    color: "=(vars.showVolume) ? 'blue' : 'gray'"
                    round: true
                    action: variable
                    actionVariable: showVolume
                    actionVariableValue: =!(vars.showVolume === true)
                - component: oh-link
                  config:
                    style:
                      margin: 0 0.5em
                    visible: =props.multiroomControlItem !== undefined
                    iconF7: music_house_fill
                    iconSize: 18
                    color: gray
                    round: true
                    action: options
                    actionItem: =props.multiroomControlItem
                    tooltip: =items[props.multiroomControlItem].displayState || items[props.multiroomControlItem].state
                - component: oh-link
                  config:
                    style:
                      margin: 0 0.5em
                      color: var(--f7-card-text-color)
                      opacity: "=(items[props.powerItem].state === 'ON') ? 1 : 0.3"
                    visible: =props.powerItem !== undefined
                    iconF7: power
                    iconSize: 18
                    round: true
                    action: toggle
                    actionItem: =props.powerItem
                    actionCommand: ON
                    actionCommandAlt: OFF